---
import BackSong from '../components/BackSong.svelte';
import CustomCursor from '../components/CustomCursor.svelte';
import AccessibilityWidget from '../components/AccessibilityWidget.svelte';

interface Props {
	title: string;
}

const { title } = Astro.props;
---
<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
	</head>
	<body>
		<slot />
		<!-- Fixed widgets - mereka akan float independent dari document flow -->
		<BackSong client:visible />
		<CustomCursor client:load /> 
		<AccessibilityWidget client:load />
	</body>
</html>

<style is:global>
	@font-face {
		font-family: 'balastaral';
		src: url('/fonts/Rektec.otf') format('truetype');
		font-weight: normal;
		font-style: normal;
		font-display: swap;
	}

	@font-face {
		font-family: 'ujicoba';
		src: url('/fonts/ujicoba.woff2') format('woff2');
		font-weight: normal;
		font-style: normal;
		font-display: swap;
	}

  .bg-texture {
    background-image: url('/background/bg.jpg');
    background-size: 200px 200px;
    background-repeat: repeat;
    background-position: center;
  }

	/* PENTING: Pastikan html dan body full height */
	html, body {
		margin: 0;
		padding: 0;
		color: #B8001F;
		min-height: 100vh;
		position: relative; /* Ini penting untuk fixed positioning children */
	}

	/* Pastikan fixed elements tidak affected oleh transform/filter di parent */
	body {
		/* Jangan gunakan transform, perspective, filter, atau will-change 
		   karena bisa bikin fixed positioning jadi relative ke parent */
		isolation: isolate; /* Buat stacking context tanpa ganggu fixed positioning */
	}
</style>